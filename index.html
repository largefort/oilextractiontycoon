<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
    <title>Idle Oil Extraction Tycoon</title>
    <link rel="stylesheet" type="text/css" href="styles.css">
    <link rel="stylesheet" href="https://unpkg.com/leaflet/dist/leaflet.css" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/leaflet.draw/1.0.4/leaflet.draw.css" />
    <style>
        body {
            font-family: 'Roboto', sans-serif;
            margin: 0;
            padding: 0;
            display: flex;
            flex-direction: column;
            align-items: center;
            background-color: #f0f2f5;
        }

        #map {
            height: calc(100vh - 70px);
            width: 100%;
            position: fixed;
            top: 0;
            left: 0;
            z-index: 1;
            filter: brightness(150%); /* Adjust the value as needed */
        }

        .resource-container {
            position: fixed;
            top: 0;
            left: 50%;
            transform: translateX(-50%);
            background-color: rgba(0, 0, 0, 0.7);
            border-radius: 10px;
            padding: 10px;
            display: flex;
            justify-content: space-around;
            width: 90%;
            box-sizing: border-box;
            z-index: 2;
            color: #fff;
        }

        .resource-container .resource {
            margin: 4px;
            text-align: center;
        }

        .tab-content {
            display: none;
            position: absolute;
            top: 0;
            bottom: 70px;
            left: 0;
            width: 100%;
            padding: 20px;
            box-sizing: border-box;
            overflow-y: auto;
            z-index: 2;
        }

        .tab-content.active {
            display: block;
        }

        #controls-tab, #settings-tab {
            background-color: rgba(255, 255, 255, 0.9);
            box-shadow: 0 0 10px rgba(0, 0, 0, 0.5);
            border-radius: 10px;
        }

        #world-map-tab {
            background: none;
            pointer-events: none;
        }

        .controls, .settings {
            display: flex;
            flex-direction: column;
            align-items: center;
        }

        .button-container {
            display: flex;
            flex-wrap: wrap;
            justify-content: space-around;
            width: 100%;
            box-sizing: border-box;
        }

        .button-container button {
            flex: 1 1 45%;
            margin: 10px;
            padding: 15px;
            font-size: 16px;
            color: #fff;
            background: linear-gradient(45deg, #3498db, #2980b9);
            border: none;
            border-radius: 10px;
            cursor: pointer;
            transition: background 0.3s, transform 0.3s;
        }

        .button-container button:focus, .button-container button:hover {
            background: linear-gradient(45deg, #3cb0fd, #3498db);
            transform: scale(1.05);
        }

        .settings-button {
            font-size: 28px;
            background: none;
            border: none;
            cursor: pointer;
            margin-top: 10px;
            color: #000;
        }

       .modal {
    display: none;
    position: fixed;
    z-index: 10000;
    left: 0;
    top: 0;
    width: 100%;
    height: 100%;
    overflow: auto;
    background-color: rgba(0,0,0,0.4);
    padding-top: 60px;
}

.modal-content {
    background-color: #fefefe;
    margin: 5% auto;
    padding: 20px;
    border: 1px solid #888;
    width: 80%;
    border-radius: 10px;
}

.close {
    color: #aaa;
    float: right;
    font-size: 28px;
    font-weight: bold;
}

.close:hover,
.close:focus {
    color: black;
    text-decoration: none;
    cursor: pointer;
}

        .bottom-nav {
            position: absolute;
            bottom: 0;
            width: 100%;
            background-color: rgba(0, 0, 0, 0.7);
            display: flex;
            justify-content: space-around;
            padding: 10px 0;
            z-index: 3;
        }

        .bottom-nav button {
            background: none;
            border: none;
            font-size: 18px;
            cursor: pointer;
            color: #ffffff;
            transition: color 0.3s;
        }

        .bottom-nav button:focus, .bottom-nav button:hover {
            color: #3498db;
        }

        @media (max-width: 600px) {
            .resource-container {
                width: 100%;
                padding: 5px;
            }

            .button-container button {
                flex: 1 1 100%;
                font-size: 14px;
                padding: 10px;
            }

            .settings-button {
                font-size: 24px;
            }

            .modal-content {
                width: 90%;
                padding: 10px;
            }

            .close {
                font-size: 24px;
            }
        }

        .dollar-pop-up,
.energy-pop-up {
    position: absolute;
    font-weight: bold;
    font-size: 14px;
    pointer-events: none;
    z-index: 2000;
    transition: transform 0.5s ease-out, opacity 0.5s ease-out;
    filter: brightness(150%);
    padding: 5px 10px;
    transform: translateY(-20px) scale(1);
    opacity: 0;
    animation: pop-up-animation 1s forwards;
}

@keyframes pop-up-animation {
    0% {
        transform: translateY(0) scale(0.8);
        opacity: 0;
    }
    100% {
        transform: translateY(-20px) scale(1);
        opacity: 1;
    }
}

.dollar-pop-up {
    color: green;
}

.energy-pop-up {
    color: yellow;
}


        .tooltip {
            position: absolute;
            background: rgba(0, 0, 0, 0.75);
            color: #fff;
            padding: 8px;
            border-radius: 8px;
            font-size: 14px;
            white-space: nowrap;
            z-index: 1000;
        }

        /* Version and copyright info */
.version-info {
    position: fixed;
    top: 10px;
    right: 10px;
    text-align: right;
    font-size: 10px; /* Smaller font size for better fit on mobile screens */
    color: blue; /* Neon green text */
    z-index: 1000; /* Ensuring it stays on top of other elements */
}
        /* Disable text selection */
body, html {
    -webkit-user-select: none; /* Safari */
    -moz-user-select: none; /* Firefox */
    -ms-user-select: none; /* IE10+/Edge */
    user-select: none; /* Standard */
    touch-action: none; /* Disables pinch-to-zoom */
}
        .modal {
    display: none;
    position: fixed;
    z-index: 10000;
    left: 0;
    top: 0;
    width: 100%;
    height: 100%;
    overflow: auto;
    background-color: rgba(0,0,0,0.4);
    padding-top: 60px;
}
    </style>
</head>
   <div id="launchModal" class="modal">
    <div class="modal-content">
        <span class="close" onclick="closeModal()">&times;</span>
        <h2>Important Notice</h2>
        <p>
            Dear Players and Supporters,
        </p>
        <p>
            I regret to inform you that my Google Play publisher account has been terminated by Google due to an alleged violation of their policies. This unfortunate event has led to the removal of all my published games, including "Idle Oil Extraction Tycoon Mobile," and the disappearance of my store listing. As a result, many of you may no longer have access to the games you enjoyed, which I poured countless hours into developing and refining.
        </p>
        <p>
            The termination was sudden and unexpected. Google cited a violation of their terms and conditions, but upon reviewing the specific allegations, I am confident that the claims are false. My games have always adhered to Google's policies and guidelines. I take compliance very seriously and have consistently ensured that my content is appropriate, secure, and enjoyable for all players.
        </p>
        <p>
            The specific violation mentioned was related to deceptive behavior and policy infringement. However, I have never engaged in any deceptive practices, nor have I implemented any features or mechanics that would violate user trust or Google's policies. My primary goal has always been to provide an engaging and fair gaming experience.
        </p>
        <p>
            Since receiving the termination notice, I have been in contact with Google to appeal the decision. The appeal process is, unfortunately, slow and opaque. I have provided extensive documentation and evidence to support my case, including user testimonials, compliance checks, and code reviews. Despite these efforts, the reinstatement of my account remains uncertain.
        </p>
        <p>
            This situation has not only impacted me as a developer but also you, the players, who have supported and enjoyed my games. The abrupt removal of the games has disrupted your gaming experience, and for that, I sincerely apologize. Your support and feedback have been the driving force behind my passion for game development, and it pains me to see my work and your enjoyment affected in this manner.
        </p>
        <p>
            Moving forward, I am exploring alternative platforms to continue sharing my games with you. While this process will take time, I am committed to ensuring that my games remain accessible. Additionally, I am considering legal advice to address this unjust termination and to protect the rights of independent developers like myself.
        </p>
        <p>
            In the meantime, I encourage you to stay connected through my social media channels and website, where I will provide updates on this situation and future game releases. Your continued support and understanding during this challenging time mean the world to me.
        </p>
        <p>
            Thank you for being a part of this journey. I am determined to overcome this setback and continue creating games that bring joy and excitement to your lives.
        </p>
        <p>
            Sincerely,
        </p>
        <p>
            [Jafet]
        </p>
        <button onclick="closeModal()">Close</button>
    </div>
</div>

<script>
    // Show the modal on page load
    window.onload = function() {
        document.getElementById("launchModal").style.display = "block";
    }

    // Function to close the modal
    function closeModal() {
        document.getElementById("launchModal").style.display = "none";
    }
</script
    </div>
</div>
<body>
<div id="map" class="enhanced-map"></div>
<div class="resource-container">
    <div class="resource">
        <p>Money: $<span id="money">1000</span></p>
        <p> <span id="money-production">0</span> $/s</p>
    </div>
    <div class="resource">
        <p>Oil: <span id="oil">0</span> barrels</p>
        <p> <span id="oil-rig-production">0</span> barrels/s</p>
    </div>
    <div class="resource">
        <p>Energy: <span id="energy">0</span> watts</p>
        <p> <span id="power-plant-production">0</span> watts</p>
    </div>
    <div class="resource">
        <p>Efficiency: <span id="efficiency">100%</span></p>
    </div>
</div>
<div id="world-map-tab" class="tab-content active">
    <!-- The map will be visible when this tab is active -->
</div>
<div id="controls-tab" class="tab-content">
    <div class="controls">
        <h3>Oil Extraction Tycoon Mobile</h3>
        <div class="button-container">
            <button onclick="buyLand()">Buy Land ($100)</button>
            <button onclick="buyOilRig()">Buy Oil Rig ($500)</button>
            <button onclick="buyPowerPlant()">Buy Power Plant ($1000)</button>
            <button onclick="upgradeOilRig()">Upgrade Oil Rig ($300)</button>
            <button onclick="upgradePowerPlant()">Upgrade Power Plant ($600)</button>
        </div>
        </div>
    </div>
</div>
</div>
<div id="settings-tab" class="tab-content">
    <div class="settings">
        <h2>Geo Map Settings</h2>
        <label for="animation-speed">Animation Speed:</label>
        <input type="range" id="animation-speed" name="animation-speed" min="1" max="10" value="5" onchange="updateAnimationSpeed(this.value)">
        <label for="map-theme">Map Theme:</label>
        <select id="map-theme" onchange="updateMapTheme(this.value)">
            <option value="EsriWorldImagery">WorldImagery</option>
            <option value="Windy">windy</option>
        </select>
        <label for="show-markers">Show Markers:</label>
        <input type="checkbox" id="show-markers" checked onchange="toggleMarkers(this.checked)">
    </div>
</div>
<div class="bottom-nav">
    <button onclick="showTab('world-map-tab')">World Map</button>
    <button onclick="showTab('controls-tab')">Controls</button>
    <button onclick="showTab('settings-tab')">Settings</button>
</div>
<script src="https://unpkg.com/leaflet@1.4.0/dist/leaflet.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/leaflet.draw/1.0.4/leaflet.draw.js"></script>
<script src="https://unpkg.com/leaflet-tilelayer-pan@1.0.0/dist/leaflet-tilelayer-pan.min.js"></script>
<script src="https://unpkg.com/leaflet.vectorgrid/dist/Leaflet.VectorGrid.bundled.js"></script>
<script src="https://unpkg.com/leaflet-providers@latest/leaflet-providers.js"></script>
<script src="https://api.windy.com/assets/map-forecast/libBoot.js"></script>
<script src="https://cdn.trackjs.com/agent/v3/latest/t.js"></script>
<script>
</script>                  
<script src="game.js"></script>
<script src="js/index.js"></script>
<script src="script.js"></script>
<script src="leaflet-providers.js"></script>          
<script>
    function showTab(tabId) {
        document.querySelectorAll('.tab-content').forEach(tab => {
            tab.classList.remove('active');
        });
        document.getElementById(tabId).classList.add('active');

        // Enable pointer events on the map when World Map tab is active
        if (tabId === 'world-map-tab') {
            document.getElementById('map').style.pointerEvents = 'auto';
            setTimeout(() => {
                map.invalidateSize();
            }, 100);
        } else {
            document.getElementById('map').style.pointerEvents = 'none';
        }
    }

    // Mobile User Interface Stabilizer (MUIS)
    function stabilizeUI() {
        map.invalidateSize();
        document.querySelectorAll('.tab-content').forEach(tab => {
            tab.classList.remove('active');
        });
        document.getElementById('world-map-tab').classList.add('active');
    }

    map.on('movestart', function() {
        stabilizeUI();
    });

    map.on('moveend', function() {
        stabilizeUI();
    });

    window.addEventListener('resize', function() {
        stabilizeUI();
    });

    window.addEventListener('orientationchange', function() {
        stabilizeUI();
    });

</script>
</body>
</html>
